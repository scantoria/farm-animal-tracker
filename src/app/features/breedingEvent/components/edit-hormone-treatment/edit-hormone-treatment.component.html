<div class="container">
  <h2>Edit Hormone Treatment</h2>
  <div *ngIf="hormoneTreatment; else loading">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)">
      
      <div class="form-group mb-3">
        <label for="hormoneType">Hormone Type</label>
        <select 
          id="hormoneType" 
          name="hormoneType" 
          [ngModel]="hormoneTreatment.hormoneType"
          required
          class="form-control"
        >
          <option *ngFor="let type of hormoneTypes" [value]="type">{{ type }}</option>
        </select>
      </div>

      <div class="form-group mb-3">
        <label for="productUsed">Product Used (Specific Drug Name)</label>
        <input 
          type="text" 
          id="productUsed" 
          name="productUsed" 
          [ngModel]="hormoneTreatment.productUsed"
          required
          class="form-control"
          placeholder="e.g., Lutalyse, Factrel"
          list="productSuggestions"
        />
        <datalist id="productSuggestions">
          <option *ngFor="let suggestion of productSuggestions" [value]="suggestion"></option>
        </datalist>
      </div>

      <div class="form-group mb-3">
        <label for="dosage">Dosage</label>
        <input 
          type="text" 
          id="dosage" 
          name="dosage" 
          [ngModel]="hormoneTreatment.dosage"
          required
          class="form-control"
          placeholder="e.g., 2 ml IM"
        />
      </div>

      <div class="form-group mb-3">
        <label for="administeredBy">Administered By</label>
        <input 
          type="text" 
          id="administeredBy" 
          name="administeredBy" 
          [ngModel]="hormoneTreatment.administeredBy"
          required
          class="form-control"
          placeholder="Vet name or User name"
        />
      </div>

      <div class="form-group mb-4">
        <label for="notes">Notes</label>
        <textarea 
          id="notes" 
          name="notes" 
          [ngModel]="hormoneTreatment.notes"
          rows="3"
          class="form-control"
        ></textarea>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="f.invalid">
        Update Treatment
      </button>
      <button type="button" class="btn btn-danger ms-2" (click)="onDelete()">
        Delete Treatment
      </button>
      <button type="button" class="btn btn-secondary ms-2" (click)="onCancel()">
        Cancel
      </button>
    </form>
  </div>
  <ng-template #loading>
      <div class="alert alert-warning mt-3">Loading treatment details...</div>
  </ng-template>
</div>